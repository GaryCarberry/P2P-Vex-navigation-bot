{"mode":"Text","hardwareTarget":"brain","textContent":"from vex import *\nimport urandom\n\n# Brain + sensors\nbrain = Brain()\nbrain_inertial = Inertial()\ndrivetrain = SmartDrive(Motor(Ports.PORT6), Motor(Ports.PORT10, True), brain_inertial, 259.34, 320, 40, MM, 1)\narmt, Claw = Motor(Ports.PORT3), Motor(Ports.PORT4)\neye, distance_9 = Optical(Ports.PORT1), Distance(Ports.PORT9)\nbumper_a, bumper_h = Bumper(brain.three_wire_port.a), Bumper(brain.three_wire_port.h)\n\n# Init\nwait(100, MSEC)\nurandom.seed(int(sum(brain_inertial.acceleration(a)*1000 for a in (XAXIS,YAXIS,ZAXIS)) + brain.timer.system()*100))\ndrivetrain.inertial.calibrate()\nwhile brain_inertial.is_calibrating(): wait(25, MSEC)\n\n# Setup\narmt.set_velocity(10, PERCENT)\nClaw.set_velocity(8, PERCENT)\neye.set_light_power(100, PERCENT); eye.set_light(LedStateType.ON)\n\ndef reversebump():\n    while not (bumper_a.pressing() and bumper_h.pressing()):\n        drivetrain.drive(REVERSE); wait(0.5, SECONDS)\n    drivetrain.stop()\n\ndef wait_for_red():\n    while True:\n        c = eye.color()\n        if c == Color.RED: brain.screen.print(\"Red found!\"); return\n        brain.screen.print(\"Blue detected! Ignoring...\" if c==Color.BLUE else \"Scanning...\")\n        wait(0.5, SECONDS)\n\ndef move(drive=None, turn=None):\n    if drive: drivetrain.drive_for(FORWARD, drive, INCHES)\n    if turn: drivetrain.turn_for(RIGHT if turn>0 else LEFT, abs(turn), DEGREES)\n\n# --- Main loop ---\nwhile True:\n    for _ in range(2): move(24, 90)\n    move(11.6); wait_for_red()\n    \n    Claw.spin_to_position(55, DEGREES); armt.spin_to_position(320, DEGREES)\n    move(turn=90); reversebump(); move(12); move(24, -92); move(24, 90); move(12,-90); move(12,90); move(12,93)\n    \n    while distance_9.object_distance(MM) > 190:\n        drivetrain.drive_for(FORWARD, 1, INCHES)\n    Claw.spin_for(REVERSE, 90, DEGREES)\n    \n    move(-28.5, 90); reversebump(); move(43, -178); move(-25.5)\n    armt.spin_to_position(0, DEGREES); Claw.spin_for(FORWARD, 40, DEGREES)\n    wait(10, SECONDS)\n","textLanguage":"python","robotConfig":[{"port":[6,10,null],"name":"drivetrain","customName":false,"deviceType":"Drivetrain","deviceClass":"smartdrive","setting":{"type":"2-motor","wheelSize":"wheel325in","gearRatio":"1:1","direction":"fwd","gyroType":"integrated","width":"295","unit":"mm","wheelbase":"40","wheelbaseUnit":"mm","xOffset":"0","xOffsetUnit":"mm","yOffset":"0","yOffsetUnit":"mm","thetaOffset":"180"},"triportSourcePort":null},{"port":[3],"name":"armt","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[4],"name":"Claw","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[9],"name":"distance_9","customName":false,"deviceType":"Distance","deviceClass":"distance","setting":{},"triportSourcePort":22},{"port":[1],"name":"eye","customName":true,"deviceType":"Optical","deviceClass":"optical","setting":{},"triportSourcePort":22},{"port":[1],"name":"bumper_a","customName":false,"deviceType":"Bumper","deviceClass":"bumper","setting":{},"triportSourcePort":22},{"port":[8],"name":"bumper_h","customName":false,"deviceType":"Bumper","deviceClass":"bumper","setting":{},"triportSourcePort":22}],"slot":2,"platform":"EXP","sdkVersion":"20240802.15.00.00","appVersion":"4.0.7","fileFormat":"2.0.0","targetBrainGen":"First","v5SoundsEnabled":false}